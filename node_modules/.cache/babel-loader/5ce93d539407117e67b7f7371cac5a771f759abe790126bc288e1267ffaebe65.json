{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import MainScreen from\"../../components/MainScreen.js\";import{Button,Card,Badge,Accordion}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import axios from\"axios\";import{deleteNoteAction,listNotes}from\"../../actions/notesActions.js\";import Loading from\"../../components/Loading\";import ErrorMessage from\"../../components/Errormessage.js\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyNotes=function MyNotes(_ref){var search=_ref.search;var dispatch=useDispatch();var Navigate=useNavigate();var noteList=useSelector(function(state){return state.noteList;});var loading=noteList.loading,notes=noteList.notes,error=noteList.error;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var noteCreate=useSelector(function(state){return state.noteCreate;});var successCreate=noteCreate.success;var noteUpdate=useSelector(function(state){return state.noteUpdate;});var successUpdate=noteUpdate.success;var noteDelete=useSelector(function(state){return state.noteDelete;});var loadingDelete=noteDelete.loading,errorDelete=noteDelete.error,successDelete=noteDelete.success;var deleteHandler=function deleteHandler(id){if(window.confirm(\"Are you sure?\")){dispatch(deleteNoteAction(id));}};console.log(notes);useEffect(function(){dispatch(listNotes());if(!userInfo){Navigate(\"/\");}},[dispatch,successCreate,successUpdate,userInfo,successDelete]);return/*#__PURE__*/_jsxs(MainScreen,{title:\"Welcome  \".concat(userInfo.name,\"..\"),children:[/*#__PURE__*/_jsx(\"h4\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/createnote\",children:/*#__PURE__*/_jsx(Button,{style:{marginLeft:10,marginBottom:6},size:\"lg\",children:\"Create new Note\"})}),errorDelete&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:errorDelete}),loadingDelete&&/*#__PURE__*/_jsx(Loading,{}),error&&/*#__PURE__*/_jsxs(ErrorMessage,{variant:\"danger\",children:[\" \",error]}),loading&&/*#__PURE__*/_jsx(Loading,{}),notes===null||notes===void 0?void 0:notes.reverse().filter(function(filteredNote){return filteredNote.title.toLowerCase().includes(search.toLowerCase());}).map(function(note){return/*#__PURE__*/_jsx(Accordion,{children:/*#__PURE__*/_jsxs(Card,{style:{margin:10},children:[/*#__PURE__*/_jsxs(Card.Header,{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"black\",textdecoration:\"none\",flex:1,cursor:\"pointer\",alignSelf:\"center\",fontSize:18},children:note.title}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{href:\"/note/\".concat(note._id),children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"mx-2\",onClick:function onClick(){return deleteHandler(note._id);},children:\"Delete\"})]})]}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsxs(Badge,{variant:\"success\",children:[\"Category - \",note.category]})}),/*#__PURE__*/_jsxs(\"blockquote\",{class:\"blockquote mb-0\",children:[/*#__PURE__*/_jsx(\"p\",{children:note.content}),/*#__PURE__*/_jsxs(\"footer\",{className:\"blockquote-footer\",children:[\"Created On\",\" \",/*#__PURE__*/_jsx(\"city\",{title:\"Source Title\",children:note.createdAt.substring(0,10)})]})]})]})]})},note._id);}),notes&&notes.length===0&&/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\"},children:\"Result not found.\"})]});};export default MyNotes;","map":{"version":3,"names":["React","useEffect","useState","MainScreen","Button","Card","Badge","Accordion","Link","useDispatch","useSelector","axios","deleteNoteAction","listNotes","Loading","ErrorMessage","useNavigate","jsx","_jsx","jsxs","_jsxs","MyNotes","_ref","search","dispatch","Navigate","noteList","state","loading","notes","error","userLogin","userInfo","noteCreate","successCreate","success","noteUpdate","successUpdate","noteDelete","loadingDelete","errorDelete","successDelete","deleteHandler","id","window","confirm","console","log","title","concat","name","children","to","style","marginLeft","marginBottom","size","variant","reverse","filter","filteredNote","toLowerCase","includes","map","note","margin","Header","display","color","textdecoration","flex","cursor","alignSelf","fontSize","href","_id","className","onClick","Body","category","class","content","createdAt","substring","length","textAlign"],"sources":["D:/React_projects/Notemaker_deployment/frontend/src/screens/MyNotes/MyNotes.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport MainScreen from \"../../components/MainScreen.js\";\r\nimport { Button, Card, Badge, Accordion } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { deleteNoteAction, listNotes } from \"../../actions/notesActions.js\";\r\nimport Loading from \"../../components/Loading\";\r\nimport ErrorMessage from \"../../components/Errormessage.js\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst MyNotes = ({ search }) => {\r\n  const dispatch = useDispatch();\r\n  const Navigate = useNavigate();\r\n\r\n  const noteList = useSelector((state) => state.noteList);\r\n  const { loading, notes, error } = noteList;\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const noteCreate = useSelector((state) => state.noteCreate);\r\n  const { success: successCreate } = noteCreate;\r\n\r\n  const noteUpdate = useSelector((state) => state.noteUpdate);\r\n  const { success: successUpdate } = noteUpdate;\r\n\r\n  const noteDelete = useSelector((state) => state.noteDelete);\r\n  const {\r\n    loading: loadingDelete,\r\n    error: errorDelete,\r\n    success: successDelete,\r\n  } = noteDelete;\r\n\r\n  const deleteHandler = (id) => {\r\n    if (window.confirm(\"Are you sure?\")) {\r\n      dispatch(deleteNoteAction(id));\r\n    }\r\n  };\r\n\r\n  console.log(notes);\r\n\r\n  useEffect(() => {\r\n    dispatch(listNotes());\r\n    if (!userInfo) {\r\n      Navigate(\"/\");\r\n    }\r\n  }, [dispatch, successCreate, successUpdate, userInfo, successDelete]);\r\n\r\n  return (\r\n    <MainScreen title={`Welcome  ${userInfo.name}..`}>\r\n      <h4></h4>\r\n      <br />\r\n      <Link to=\"/createnote\">\r\n        <Button style={{ marginLeft: 10, marginBottom: 6 }} size=\"lg\">\r\n          Create new Note\r\n        </Button>\r\n      </Link>\r\n      {errorDelete && (\r\n        <ErrorMessage variant=\"danger\">{errorDelete}</ErrorMessage>\r\n      )}\r\n      {loadingDelete && <Loading />}\r\n      {error && <ErrorMessage variant=\"danger\"> {error}</ErrorMessage>}\r\n      {loading && <Loading />}\r\n\r\n      {notes\r\n        ?.reverse()\r\n        .filter((filteredNote) =>\r\n          filteredNote.title.toLowerCase().includes(search.toLowerCase())\r\n        )\r\n        .map((note) => (\r\n          <Accordion key={note._id}>\r\n            <Card style={{ margin: 10 }}>\r\n              <Card.Header style={{ display: \"flex\" }}>\r\n                <span\r\n                  style={{\r\n                    color: \"black\",\r\n                    textdecoration: \"none\",\r\n                    flex: 1,\r\n                    cursor: \"pointer\",\r\n                    alignSelf: \"center\",\r\n                    fontSize: 18,\r\n                  }}\r\n                >\r\n                  {note.title}\r\n                </span>\r\n\r\n                <div>\r\n                  <Button href={`/note/${note._id}`}>Edit</Button>\r\n                  <Button\r\n                    variant=\"danger\"\r\n                    className=\"mx-2\"\r\n                    onClick={() => deleteHandler(note._id)}\r\n                  >\r\n                    Delete\r\n                  </Button>\r\n                </div>\r\n              </Card.Header>\r\n\r\n              <Card.Body>\r\n                <h4>\r\n                  <Badge variant=\"success\">Category - {note.category}</Badge>\r\n                </h4>\r\n\r\n                <blockquote class=\"blockquote mb-0\">\r\n                  <p>{note.content}</p>\r\n                  <footer className=\"blockquote-footer\">\r\n                    Created On{\" \"}\r\n                    <city title=\"Source Title\">\r\n                      {note.createdAt.substring(0, 10)}\r\n                    </city>\r\n                  </footer>\r\n                </blockquote>\r\n              </Card.Body>\r\n            </Card>\r\n          </Accordion>\r\n        ))}\r\n      {notes && notes.length === 0 && (\r\n        <h2 style={{ textAlign: \"center\" }}>Result not found.</h2>\r\n      )}\r\n    </MainScreen>\r\n  );\r\n};\r\n\r\nexport default MyNotes;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}